plugins {
    id "groovy"
    id "java"
    id "java-gradle-plugin"
    //https://plugins.gradle.org/docs/publish-plugin
    //https://plugins.gradle.org/plugin/com.gradle.plugin-publish
    id "com.gradle.plugin-publish" version "1.1.0"
}

dependencies {
    //添加gradle对应api
    implementation gradleApi()
    implementation localGroovy()
}

//发布到 https://plugins.gradle.org
apply plugin: "com.gradle.plugin-publish"

gradlePlugin {
    plugins {
        greetingsPlugin {
            id = 'io.github.shuigedeng'
            implementationClass = 'com.taotao.cloud.gradle.plugin.MyPlugin'
            displayName = "taotao-cloud-plugin gradle plugin"
            description = 'taotao-cloud-plugin gradle plugin Please use!'
        }
//        simplePlugin {
//            id = "first-plugin"
//            implementationClass = "com.huangyuanlove.plugin.FirstPlugin"
//        }
//        goodbyePlugin {
//            id = 'io.github.johndoe.goodbye'
//            implementationClass = 'io.github.johndoe.gradle.GoodbyePlugin'
//            displayName = 'Gradle Goodbye plugin'
//            description = 'Gradle plugin to say goodbye!'
//        }
    }
}

gradlePlugin {
    website = 'https://github.com/shuigedeng/taotao-cloud-project'
    vcsUrl = 'https://github.com/shuigedeng/taotao-cloud-project.git'
    description = 'taotao-cloud-gradle-plugin'
    //tags = ['individual', 'tags', 'plugin']
    //tags = ['individual']
    //pluginTags = [
    //        greetingsPlugin: ['individual', 'tags', 'per'],
    //        //someOtherPlugin: ['some', 'other', 'tags']
    //]

    plugins {
        greetingsPlugin {
            id = 'io.github.johndoe.greeting'
            implementationClass = 'io.github.johndoe.gradle.GreetingPlugin'
            displayName = 'Gradle Greeting plugin'
            description = 'Gradle plugin to say hello!'
            tags.set(['search', 'tags', 'for', 'your', 'hello', 'plugin'])
        }
        goodbyePlugin {
            id = 'io.github.johndoe.goodbye'
            implementationClass = 'io.github.johndoe.gradle.GoodbyePlugin'
            displayName = 'Gradle Goodbye plugin'
            description = 'Gradle plugin to say goodbye!'
            tags.set(['search', 'tags', 'for', 'your', 'goodby', 'plugin'])
        }
    }
}

dependencies {
    implementation "io.github.shuigedeng:taotao-cloud-starter-core"
    implementation "io.github.shuigedeng:taotao-cloud-starter-logger"
    implementation "io.github.shuigedeng:taotao-cloud-starter-dingtalk"
    implementation "io.github.shuigedeng:taotao-cloud-starter-idgenerator"
    implementation "io.github.shuigedeng:taotao-cloud-starter-lock"
    implementation "io.github.shuigedeng:taotao-cloud-starter-prometheus"
    implementation "io.github.shuigedeng:taotao-cloud-starter-actuator"

    implementation "io.github.shuigedeng:taotao-cloud-starter-micrometer"
    implementation "io.github.shuigedeng:taotao-cloud-starter-skywalking"
    implementation "io.github.shuigedeng:taotao-cloud-starter-facility-alibaba"

    implementation "de.codecentric:spring-boot-admin-starter-server"

    implementation "org.springframework.boot:spring-boot-starter-security"
    implementation "org.springframework.boot:spring-boot-starter-mail"

    implementation("org.springframework.boot:spring-boot-starter-web") {
        exclude group: "org.springframework.boot", module: "spring-boot-starter-tomcat"
    }
    implementation "org.springframework.boot:spring-boot-starter-actuator"
    implementation "org.springframework.boot:spring-boot-starter-undertow"
    implementation "org.springframework.boot:spring-boot-autoconfigure"

    annotationProcessor "org.springframework.boot:spring-boot-configuration-processor:${springBootVersion}"
}

mainClassName = "com.taotao.cloud.monitor.TaoTaoCloudMonitorApplication"
description = "监控中心"
archivesBaseName = 'taotao-cloud-monitor'

configurations {
    all {
        resolutionStrategy {
            //todo 临时处理 用高版本有问题
            force 'io.zipkin.reporter2:zipkin-sender-urlconnection:2.16.3'
            force 'io.zipkin.zipkin2:zipkin:2.23.2'
            force 'io.zipkin.reporter2:zipkin-reporter:2.16.3'
            force 'io.opentelemetry:opentelemetry-exporter-zipkin:1.31.0'
        }

        exclude group: "org.springframework.boot", module: "spring-boot-starter-data-jpa"
        exclude group: "org.springframework.boot", module: "spring-boot-starter-tomcat"
        exclude group: "com.querydsl", module: "querydsl-apt"
        exclude group: "commons-logging", module: "commons-logging"
    }
}

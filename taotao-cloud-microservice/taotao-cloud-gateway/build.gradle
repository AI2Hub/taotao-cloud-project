dependencies {
    implementation "io.github.shuigedeng:taotao-cloud-starter-core"
    implementation "io.github.shuigedeng:taotao-cloud-starter-monitor"
    implementation "io.github.shuigedeng:taotao-cloud-starter-captcha"
    implementation "io.github.shuigedeng:taotao-cloud-starter-logger"
    implementation "io.github.shuigedeng:taotao-cloud-starter-captcha"
    implementation "io.github.shuigedeng:taotao-cloud-starter-useragent"

    implementation "io.github.shuigedeng:taotao-cloud-starter-tracing-micrometer"
    implementation "io.github.shuigedeng:taotao-cloud-starter-tracing-skywalking"

    implementation "io.github.shuigedeng:taotao-cloud-starter-facility-alibaba"
    //implementation "io.github.shuigedeng:taotao-cloud-starter-facility-tencent"
    //implementation 'com.tencent.cloud:spring-cloud-tencent-gateway-plugin'
    //implementation 'com.tencent.cloud:spring-cloud-tencent-featureenv-plugin'
    //implementation "io.github.shuigedeng:taotao-cloud-starter-facility-zookeeper"
    //implementation "io.github.shuigedeng:taotao-cloud-starter-facility-huawei"

    implementation "com.alibaba.csp:sentinel-datasource-nacos"
    implementation "com.alibaba.cloud:spring-cloud-alibaba-sentinel-gateway"
    implementation("com.alibaba.cloud:spring-cloud-starter-alibaba-sentinel") {
        exclude group: "com.fasterxml.jackson.dataformat", module: "jackson-dataformat-xml"
    }

    //https://search.maven.org/artifact/org.apache.skywalking/apm-spring-cloud-gateway-3.x-plugin
    implementation 'org.apache.skywalking:apm-spring-cloud-gateway-3.x-plugin:8.15.0'

    implementation "org.springframework.boot:spring-boot-starter-security"
    implementation "org.springframework.boot:spring-boot-starter-oauth2-resource-server"
    implementation "org.springframework.security:spring-security-oauth2-jose"
    //https://search.maven.org/artifact/com.nimbusds/nimbus-jose-jwt
    implementation "com.nimbusds:nimbus-jose-jwt:9.31"

    implementation("org.springframework.cloud:spring-cloud-starter-gateway") {
        exclude group: "org.springframework.boot", module: "spring-boot-starter-web"
        exclude group: "org.springframework.boot", module: "spring-boot-starter-webflux"
    }
    implementation "org.springframework.boot:spring-boot-starter-webflux"
    implementation "org.springframework.cloud:spring-cloud-starter-loadbalancer"
    implementation 'org.springframework.cloud:spring-cloud-starter-function-webflux'

    implementation "org.springframework.cloud:spring-cloud-starter-circuitbreaker-reactor-resilience4j"

    //implementation "org.springdoc:springdoc-openapi:2.1.0"
    implementation 'org.springdoc:springdoc-openapi-starter-webflux-api'
    implementation 'org.springdoc:springdoc-openapi-starter-webflux-ui'

    implementation "com.github.xiaoymin:knife4j-openapi3-ui"
    implementation "com.github.xiaoymin:knife4j-openapi3-jakarta-spring-boot-starter"
    //implementation "com.github.xiaoymin:knife4j-gateway-spring-boot-starter:4.0.0"

    implementation "org.apache.commons:commons-pool2"
    implementation "org.apache.commons:commons-lang3"
    implementation "commons-fileupload:commons-fileupload:1.5"
    implementation "commons-io:commons-io:2.11.0"

    //网关限流 https://search.maven.org/artifact/com.eeeffff.limiter/ip-limiter-core-spring-gateway
    //implementation "com.eeeffff.limiter:ip-limiter-core-spring-gateway:1.1.3"

    //implementation("io.github.shuigedeng:taotao-cloud-starter-security-satoken") {
    //    exclude group: "cn.dev33", module: "sa-token-spring-boot-starter"
    //}
    ////https://search.maven.org/artifact/cn.dev33/sa-token-reactor-spring-boot-starter
    //implementation 'cn.dev33:sa-token-reactor-spring-boot-starter:1.34.0'
}

configurations {
    all {
        exclude group: "org.springframework", module: "spring-webmvc"
        exclude group: "org.springframework.boot", module: "spring-boot-starter-data-jpa"
        exclude group: "com.alibaba.csp", module: "sentinel-spring-webmvc-adapter"
        exclude group: "com.querydsl", module: "querydsl-apt"
    }
}

mainClassName = "com.taotao.cloud.gateway.TaoTaoCloudGatewayApplication"
description = "基于spring-cloud-gateway网关中心"
archivesBaseName = 'taotao-cloud-gateway'
